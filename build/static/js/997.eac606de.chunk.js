"use strict";(self.webpackChunkcalendar_cart_srd_wlkp=self.webpackChunkcalendar_cart_srd_wlkp||[]).push([[997],{4272:function(e,t,s){s.d(t,{Z:function(){return d}});var a=s(1413),n=s(4925),r=s(8617),l=s(1694),o=s.n(l),i=s(184),c=["onClick"];function d(e){var t=e.onClick,s=(0,n.Z)(e,c),l=o()("bg-red-400 absolute top-0 right-0 cursor-pointer hover:bg-red-500 duration-150 hover:text-lg",s.className);return(0,i.jsx)(r.fMW,(0,a.Z)({className:l,onClick:t},s))}},4739:function(e,t,s){s.r(t),s.d(t,{default:function(){return O}});var a=s(9439),n=s(6459),r=s(2791),l=s(8997),o=s(7689),i=s(4123),c=s(3842);var d=function(){return(0,r.useContext)(c.Z)},u=s(3474),f=s(807),m=s(1694),h=s.n(m),p=s(184);function x(e){var t=e.displayedMonth,s=e.setDisplayedMonth,a=e.monthsCountForMonthCarousel;return(0,p.jsxs)("div",{className:"bg-zinc-300 w-full h-10 flex justify-start sticky top-0 z-10 font-semibold",children:[(0,p.jsx)("button",{className:h()("py-2 px-4  text-white md:w-fit w-full ",0===t?"bg-gray-500 cursor-default":"bg-purple-400 hover:bg-purple-500 cursor-pointer"),onClick:function(){s((t-1+a)%a)},disabled:0===t,children:"Poprzedni miesi\u0105c"}),(0,p.jsx)("button",{className:h()("py-2 px-4 md:rounded-r-md text-white md:w-fit w-full",t===a-1?"bg-gray-500 cursor-default":"bg-purple-400 hover:bg-purple-500 cursor-pointer"),onClick:function(){s((t+1)%a)},disabled:t===a-1,children:"Nast\u0119pny miesi\u0105c"})]})}var g=s(1413),v=s(8473),b=s(4925),y=s(9045);function w(e){var t=e.dayDate,s=e.day,a=e.slots,n=e.isBlank,l=(e.slotMessage,e.setSlotMessage),o=e.timeArr,i=(e.calendar,(0,y.Z)().isAdmin),c=(0,r.useRef)(null),d=null,u=function(){i&&!n&&(d=setTimeout((function(){l({dayDate:t,timeArr:o})}),1e3))},f=function(e){e.preventDefault(),clearTimeout(d)};return(0,p.jsxs)("div",{className:"h-20 min-w-[10rem] w-full flex-none border-b-2 border-black ".concat(n?"bg-gray-300":"bg-purple-100"," flex flex-col z-[2] sticky top-0 select-none cursor-pointer"),ref:c,onMouseDown:u,onMouseUp:f,onTouchStart:u,onTouchEnd:f,children:[(0,p.jsxs)("div",{className:"flex flex-col  justify-center items-center",children:[(0,p.jsx)("span",{className:"font-semibold",children:s}),(0,p.jsx)("span",{children:t})]}),!n&&(0,p.jsx)("div",{className:"flex flex-row w-full h-full overflow-hidden",children:a.map((function(e,t){return(0,p.jsx)("span",{className:"w-full h-full justify-center items-center overflow-hidden flex flex-wrap text-center border-[1px] border-t-black border-t-[3px] break-words border-gray-400",children:e.name},t)}))})]})}function j(e){var t=e._thisSlot,s=e.dayDate,n=d(),l=(n.updateSlot,n.updateSlotsArray),o=n.emitMessage,c=(0,r.useState)(t),u=(0,a.Z)(c,2),f=u[0],m=u[1],h=(0,y.Z)().user,x=(0,i.Z)().setMessage;(0,r.useMemo)((function(){t.handleSign=m,l([t])}),[]);var b=(0,i.Z)().setConfirm,w=f.sign,j=function(e){if(e){var t=(0,g.Z)((0,g.Z)({},f),{},{sign:h.name});S(t)}},M=function(e){if(e){var t=(0,g.Z)((0,g.Z)({},f),{},{sign:""});S(t),x("Zosta\u0142e\u015b wypisany!")}},S=function(e){o(e),x("Zosta\u0142e\u015b zapisany!"),m(e)},k={entering:{opacity:1,transform:"translateX(0)"},entered:{opacity:1,transform:"translateX(0)"},exiting:{opacity:0,transform:"translateX(-50%)"},exited:{opacity:0,transform:"translateX(-50%)"}},D=(0,v.Yz)(""!==w,{from:{opacity:0,transform:"translateX(-50%)",display:"inline-block"},enter:k.entering,leave:k.exiting,config:{duration:300}});return(0,p.jsx)("button",{className:"overflow-hidden w-full h-full border-[1px] border-gray-400 duration-150 hover:backdrop-brightness-90 text-center active:bg-zinc-200\n        ".concat("","\n        ").concat(w!==h.name&&""!==w?"cursor-not-allowed pointer-events-none":"","\n      "),onClick:function(e){if(e.preventDefault(),w===h.name){var t="Czy na pewno chcesz wypisa\u0107 si\u0119 z dnia ".concat(f.day.toLowerCase()," ").concat(s,", godzina ").concat(f.time,"?");b({message:t,submit:"Wypisz mnie",handleSubmit:M})}else{var a="Czy na pewno chcesz zapisa\u0107 si\u0119 na ".concat(f.time," w ").concat(f.day.toLowerCase()," ").concat(s,"?");b({message:a,submit:"Zapisz mnie",handleSubmit:j})}},children:D((function(e,t){return t&&(0,p.jsx)(v.q.span,{style:e,children:w})}))})}function M(e){var t=e.slotMessage,s=(e.time,t.thisSlotMessage);t.selectedGroups,t.dayDate;return(0,p.jsx)("div",{className:"w-full h-full absolute z-[1] bg-red-300 border-[1px] border-gray-400 flex justify-center items-center break-words cursor-default ",children:(0,p.jsx)("p",{children:s})})}var S=["day","isActive","isBlank","timeArr","date","weekIndex","dayDate","calendar","heigh","slotMessage","setSlotMessage"];function k(e){var t,s=e.day,a=(e.isActive,e.isBlank),n=e.timeArr,l=e.date,o=e.weekIndex,i=e.dayDate,c=e.calendar,u=e.heigh,f=e.slotMessage,m=e.setSlotMessage,x=((0,b.Z)(e,S),c._id),g=c.name,v=c.slots,y=c.records,k=c.slotMessages,D=d().handleRecords,Z=x,N=d().removeAllSlots;if((0,r.useEffect)((function(){return D(y),function(){N()}}),[]),c.bannedDays.includes(s.toUpperCase()))return!1;i&&(t=function(e){var t=e,s=t.getDate().toString().padStart(2,"0"),a=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getFullYear().toString();return"".concat(s,".").concat(a,".").concat(n)}(i));var I=k.filter((function(e){return e.dayDate===t}));return(0,p.jsxs)("div",{className:"flex flex-col w-full h-fit md:h-full ".concat(a?" ":"bg-zinc-100","  border-l-[2px] border-black "),children:[(0,p.jsx)(w,{dayDate:t,timeArr:n,day:s,slots:v,isBlank:a,slotMessage:f,setSlotMessage:m,calendar:c}),!a&&(0,p.jsx)(p.Fragment,{children:n.map((function(e,a){var n=I.find((function(t){return t.selectedTimes.includes(e)})),r=!1;if(n){var i=k.thisSlotMessage+e;r=(0,p.jsx)(M,{slotMessage:n,time:e},i)}return(0,p.jsxs)("div",{className:"relative flex flex-row w-full h-full border-black",children:[r,"s                        ",v.map((function(a){for(var n=[],r=0;r<a.space;r++){var i=g+s+a.name+e+r,c={calendar:g,date:l,weekIndex:o,day:s,time:e,slotName:a.name,slotIndex:r,sign:"",calendarID:Z,fullDate:t};n.push((0,p.jsx)(j,{dayDate:t,_thisSlot:c},i))}var d=h()("relative flex flex-col w-full md:h-full order-".concat(a.order," overflow-hidden ").concat(u.toString()));return(0,p.jsx)("div",{className:d,children:n},a.name)}))]},a)}))})]},s)}var D=["timeArr","heigh"];function Z(e){var t=e.timeArr,s=e.heigh,a=((0,b.Z)(e,D),h()("bg-white flex  md:h-full ".concat(s," w-full flex-1 border-b-2 border-black items-center justify-center")));return(0,p.jsxs)("div",{className:"md:flex h-full min-w-[50px] flex-col bg-white sticky left-0 z-[3] pointer-events-none",children:[(0,p.jsx)("div",{className:"h-20 border-b-2 border-black flex justify-center items-center ",children:"Czas"}),t.map((function(e,s){return(0,p.jsx)("div",{className:"".concat(a," ").concat(s===t.length-1?"border-none":""),time:e,children:e},e)}))]})}function N(e){e.allDaysInMonth,e.allDaysLeftInMonth,e.allWeeksInMonth;var t=e.allWeeksLeftInMonth,s=e.calendar,n=e.date,l=e.slotMessage,o=e.setSlotMessage,i=s.time,c=(s.name,s.slots),d=["PONIEDZIA\u0141EK","WTOREK","\u015aRODA","CZWARTEK","PI\u0104TEK","SOBOTA","NIEDZIELA"],u=(0,r.useState)(function(e,t,s){for(var n=[],r=e;r<=t;){n.push(r);var l=r.split(":"),o=(0,a.Z)(l,2),i=o[0],c=o[1],d=60*parseInt(i)+parseInt(c)+(60*parseInt(s.split(":")[0])+parseInt(s.split(":")[1])),u=Math.floor(d/60).toString().padStart(2,"0"),f=d%60;r="".concat(u,":").concat(f.toString().padStart(2,"0"))}return n}(i.timeFrom,i.timeTo,i.timeSpace)),f=(0,a.Z)(u,2),m=f[0],h=(f[1],["left-0","left-1","left-2","left-3","left-4","left-5","left-6","left-7","left-8"]),x=function(){for(var e=0,t=0;t<c.length;t++){var s=c[t],a=parseInt(s.space);e<a&&(e=a)}for(var n=[{space:1,heigh:"h-10"},{space:2,heigh:"h-20"},{space:3,heigh:"h-32"},{space:4,heigh:"h-40"},{space:5,heigh:"h-52"},{space:6,heigh:"h-60"}],r=0;r<n.length;r++){var l=n[r];if(l.space===e)return l.heigh}}();return(0,p.jsx)("div",{className:"w-full h-full snap snap-y snap-mandatory flex overflow-x-scroll  ",children:t.map((function(e,a){return 0!==e.length&&(0,p.jsxs)("section",{className:"snap-start min-w-full min-h-full border-black bg-gray-300 flex flex-row overflow-y-scroll sticky ".concat(0===a||a===t.length-1?"left-0":"".concat(h[a]," border-l-2")),children:[(0,p.jsx)(Z,{timeArr:m,heigh:x}),d.map((function(r,i){for(var c,d,u,f=!1,h=0;h<e.length;h++){var g=e[h];if(g.day.toUpperCase()===r){f=!0,u=g.date;break}}return f?(0,p.jsx)(k,{day:r,dayDate:u,isActive:!(null===(c=t[a])||void 0===c||!c[i]),isBlank:!1,timeArr:m,date:n,weekIndex:a,calendar:s,heigh:x,slotMessage:l,setSlotMessage:o},i):(0,p.jsx)(k,{day:r,isActive:!(null===(d=t[a])||void 0===d||!d[i]),isBlank:!0,calendar:s},i)}))]},a)}))})}function I(e){var t=e.calendar,s=e.date,n=e.slotMessage,r=e.setSlotMessage;console.log(t);h()(""),(new Date).getFullYear();var l=s.split("."),o=(0,a.Z)(l,2),i=(o[0],o[1],["STYCZE\u0143","LUTY","MARZEC","KWIECIE\u0143","MAJ","CZERWIEC","LIPIEC","SIERPIE\u0143","WRZESIE\u0143","PA\u0179DZIERNIK","LISTOPAD","GRUDZIE\u0143"]),c=["NIEDZIELA","PONIEDZIA\u0141EK","WTOREK","\u015aRODA","CZWARTEK","PI\u0104TEK","SOBOTA"];var d=function(e){var s=e.split("."),n=(0,a.Z)(s,2),r=n[0],l=n[1],o=i.indexOf(r.toUpperCase()),d=parseInt(l,10),u=new Date(d,o+1,0).getDate(),f=new Date;f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.getFullYear(),f.getMonth(),f.getDate(),new Date(d,o,1).getDay();for(var m=[],h=[],p=[],x=[],g=1;g<=u;g++){var v=new Date(d,o,g),b={day:c[v.getDay()],date:v};t.bannedDays.includes(b.day)||(m.push(b),f.setHours(0,0,0,0),v.getTime()>=f.getTime()?h.push(b):h.push(!1))}for(var y=[],w=[],j=1;j<=u;j++){var M=new Date(d,o,j),S=M.getDay();1===S&&(p.push(y),x.push(w),y=[],w=[]);var k={day:c[S],date:M};t.bannedDays.includes(k.day)||(y.push(k),f.setHours(0,0,0,0),M.getTime()>=f.getTime()&&w.push(k))}return p.push(y),x.push(y),{allDaysInMonth:m,allDaysLeftInMonth:h,allWeeksInMonth:p.filter((function(e){return e.length>0})),allWeeksLeftInMonth:x.filter((function(e){return e.length>0}))}}(s),u=d.allDaysInMonth,f=d.allDaysLeftInMonth,m=d.allWeeksInMonth,x=d.allWeeksLeftInMonth;return 0===x.length?(0,p.jsx)("div",{className:"w-full h-full flex justify-center items-start mt-[10%] text-sm md:text-base underline pointer-events-none",children:(0,p.jsx)("h3",{children:"Brak miesi\u0119cy do wy\u015bwietlenia"})}):(0,p.jsxs)("div",{className:"w-full h-full",children:[(0,p.jsx)("h3",{className:"flex justify-center items-center p-2 border-b-2 border-black font-semibold sticky top-10 bg-gray-100",children:s}),(0,p.jsx)("div",{className:"w-full h-[calc(100%_-_4.60rem)]",children:(0,p.jsx)(N,{allDaysInMonth:u,allDaysLeftInMonth:f,allWeeksInMonth:m,allWeeksLeftInMonth:x,calendar:t,date:s,slotMessage:n,setSlotMessage:r})})]})}function C(e){var t=e.calendar,s=e.displayedMonth,n=e.monthsCountForMonthCarousel,l=e.slotMessage,o=e.setSlotMessage,i=t.date,c=(0,r.useMemo)((function(){return i.map((function(e,s){return(0,p.jsx)(I,{calendar:t,date:i[s],slotMessage:l,setSlotMessage:o},s)}))}),[]),d=(0,r.useState)(c),u=(0,a.Z)(d,2),f=u[0],m=(u[1],(0,v.bY)(n,i.map((function(e,t){return{transform:"translateX(".concat(100*(t-s),"%)"),position:"absolute",width:"full",height:"full",top:0,left:0,zIndex:t===s?1:0}}))));return(0,p.jsx)("div",{className:"relative w-full h-full",children:m.map((function(e,t){return(0,p.jsx)(v.q.div,{className:"absolute w-full h-full",style:(0,g.Z)({},e),children:f?f[t]:null},t)}))})}var A=s(2599),E=s(4937),T=s(3433),z=s(4272);function R(e){var t=e.selectedGroups,s=e.setSelectedGroups,a=e.groups,n=a.map((function(e,n){var r=h()("text-sm uppercase text-center px-1 py-2 m-1 cursor-pointer duration-150 active:bg-sky-400 active:scale-110",t.includes(e.toUpperCase())?"bg-pink-200 hover:bg-pink-300":"bg-sky-200 hover:bg-sky-300");return(0,p.jsx)("li",{onClick:function(){return function(e){var n=a[e].toUpperCase();t.includes(n)?s(t.filter((function(e){return e!==n}))):s([].concat((0,T.Z)(t),[n]))}(n)},className:r,children:e},e)}));return(0,p.jsx)("div",{className:"flex flex-col",children:(0,p.jsx)("ul",{className:"flex flex-row justify-start w-full  overflow-x-scroll  md:overflow-x-auto",children:n})})}function F(e){var t=e.selectedTimes,s=e.setSelectedTimes,a=e.timeArr,n=e.setTimesError,r=e.selectedTimesError,l=a.map((function(e,l){var o=h()("text-sm uppercase text-center px-1 py-2 m-1 cursor-pointer duration-150 active:bg-sky-400 active:scale-110",t.includes(e.toUpperCase())?"bg-pink-200 hover:bg-pink-300":"bg-sky-200 hover:bg-sky-300");return(0,p.jsx)("li",{onClick:function(){return function(e){r&&n(!1);var l=a[e].toUpperCase();t.includes(l)?s(t.filter((function(e){return e!==l}))):s([].concat((0,T.Z)(t),[l]))}(l)},className:o,children:e},e)}));return(0,p.jsx)("div",{className:"flex flex-col",children:(0,p.jsx)("ul",{className:"flex flex-row justify-start w-full  overflow-x-scroll  md:overflow-x-auto",children:l})})}function G(e){var t=e.timeArr,s=e.dayDate,n=e.setDisplayedFrom,l=e.calendar,o=e.setGlobalSlotMessage,c=e.globalSlotMessage,d=e.displayedFrom;var u=(0,i.Z)().updateCalendar,f=(0,r.useState)(!1),m=(0,a.Z)(f,2),h=m[0],x=m[1],v=(0,r.useState)(!1),b=(0,a.Z)(v,2),y=b[0],w=b[1],j=(0,r.useState)(""),M=(0,a.Z)(j,2),S=M[0],k=M[1],D=(0,r.useState)([]),Z=(0,a.Z)(D,2),N=Z[0],I=Z[1],C=(0,r.useState)([]),A=(0,a.Z)(C,2),E=A[0],G=A[1],U=(0,r.useState)(),W=(0,a.Z)(U,2),O=(W[0],W[1],(0,r.useState)(!1)),L=(0,a.Z)(O,2),P=L[0],_=L[1];(0,r.useEffect)((function(){k(c.thisSlotMessage||""),I(c.selectedGroups||[]),G(c.selectedTimes||[])}),[c,d]),(0,r.useEffect)((function(){S!==c.thisSlotMessage||N!==c.selectedGroups||E!==c.selectedTimes?_(!1):_(!0)}),[S,N,,c]);var K=function(){n(0),setTimeout((function(){o(!1)}),350)};return(0,p.jsxs)("div",{children:[(0,p.jsxs)("h3",{className:" bg-violet-200 py-2 uppercase font-semibold  mb-2 pl-2",children:[!1!==c?"Dodaj wiadomo\u015b\u0107":"Edytuj wiadomo\u015b\u0107",(0,p.jsx)(z.Z,{onClick:K})]}),(0,p.jsxs)("form",{className:" bg-white w-full h-full flex flex-col [&>*]:mt-2 [&>*]:mx-2 [&>label]:uppercase ",children:[(0,p.jsx)("label",{className:"mx-2 duration-75  ".concat(h?"valid text-red-300":"text-normal"),form:"text",children:"Tre\u015b\u0107 wiadomo\u015bci"}),(0,p.jsx)("textarea",{type:"text",className:" h-20 border-2 border-opacity-100 rounded-sm hover:border-gray-400 duration-300 ease-in-out",value:S,onChange:function(e){h&&x(!1),k(e.target.value)}}),(0,p.jsx)("label",{className:"mx-2 duration-75  ".concat(y?"valid text-red-300":"text-normal"),children:"Czas"}),(0,p.jsx)(F,{selectedTimes:E,setSelectedTimes:G,timeArr:t,setTimesError:w,selectedTimesError:y}),(0,p.jsx)("label",{className:"mx-2",children:"Dla grup"}),(0,p.jsx)(R,{selectedGroups:N,setSelectedGroups:I,groups:["GRUPA 1","GRUPA 2","GRUPA 3","GRUPA 4","GRUPA 5","GRUPA 6"]}),(0,p.jsxs)("div",{className:" mt-14 mb-2 flex w-full justify-center flex-row",children:[!1!==c?(0,p.jsx)("button",{className:"w-20 rounded-md border-sky-500  border-2 mx-1\r hover:text-white hover:bg-sky-500 transition ease-linear duration-150 hover:font-semibold",onClick:function(e){e.preventDefault();var t=l.slotMessages.map((function(e,t){return JSON.stringify(e)===JSON.stringify(c)?{thisSlotMessage:S,selectedGroups:N,dayDate:s,selectedTimes:E}:(0,g.Z)({},e)})),a=(0,g.Z)((0,g.Z)({},l),{},{slotMessages:t});u(l,a),K()},children:"Zmie\u0144"}):(0,p.jsx)("button",{className:"w-20 rounded-md border-sky-500  border-2 mx-1\r hover:text-white hover:bg-sky-500 transition ease-linear duration-150 hover:font-semibold",onClick:function(e){if(e.preventDefault(),!h&&!y)if(""!==S)if(0!==E.length){var t=[].concat((0,T.Z)(l.slotMessages),[{thisSlotMessage:S,selectedGroups:N,dayDate:s,selectedTimes:E}]),a=(0,g.Z)((0,g.Z)({},l),{},{slotMessages:t});u(l,a),K()}else w(!0);else x(!0)},children:"Dodaj"}),P&&(0,p.jsx)("button",{className:"w-20 rounded-md border-red-400  border-2 mx-1\r hover:text-white hover:bg-red-500 transition ease-linear duration-150 hover:font-semibold",onClick:function(e){e.preventDefault(),e.preventDefault();var t=l.slotMessages.filter((function(e){return JSON.stringify(e)!==JSON.stringify(c)})),s=(0,g.Z)((0,g.Z)({},l),{},{slotMessages:t});u(l,s),K()},children:"Usu\u0144"})]})]})]})}function U(e){var t=e.handleSetSlotMessage,s=e.closeModal,a=e.dayDate,n=(e.setDisplayedFrom,e.calendar.slotMessages);return(0,p.jsxs)("div",{className:"h-full w-full flex flex-col",children:[(0,p.jsxs)("h3",{className:" bg-violet-200 py-2 uppercase font-semibold  mb-2 pl-2 w-full",children:["Wiadomo\u015bci w dniu: "," ",a,(0,p.jsx)(z.Z,{onClick:function(){s(!1)}})]}),(0,p.jsx)("div",{className:"flex flex-wrap justify-center h-full overflow-auto",children:n.map((function(e,s){return e.dayDate===a&&(0,p.jsx)("button",{onClick:function(){return t(e)},className:"bg-gray-400 w-24 overflow-hidden h-24 p-2 cursor-pointer active:scale-110 duration-150 m-2",children:e.thisSlotMessage},s)}))}),(0,p.jsx)("div",{className:" flex justify-center h-fit w-full  ml-auto mr-auto sticky bottom-0 bg-white",children:(0,p.jsx)("button",{onClick:function(){return t(!1)},className:"self-end mb-2 rounded-md border-sky-500 h-12 w-fit  border-2 mx-1 hover:text-white hover:bg-sky-500 transition ease-linear duration-150 hover:font-semibold",children:"Dodaj now\u0105 wiadomo\u015b\u0107"})})]})}s(4428);function W(e){var t=e.slotMessage,s=e.setSlotMessage,n=e.calendar,o=(0,r.useState)(0),i=(0,a.Z)(o,2),c=i[0],d=i[1],u=(0,r.useState)(!1),f=(0,a.Z)(u,2),m=f[0],h=f[1],x=t.timeArr,b=t.dayDate,y=[(0,p.jsx)(U,{timeArr:x,dayDate:b,closeModal:s,handleSetSlotMessage:function(e){h(e||!1),d(1)},setDisplayedFrom:d,calendar:n}),(0,p.jsx)(G,{timeArr:x,dayDate:b,setDisplayedFrom:d,calendar:n,globalSlotMessage:m,setGlobalSlotMessage:h,displayedFrom:c})],w=y.length,j=(0,v.bY)(w,y.map((function(e,t){return{transform:"translateX(".concat(100*(t-c),"%)"),position:"absolute",width:"full",height:"full",top:0,left:0,zIndex:t===c?1:0}})));return!!t&&(0,p.jsx)("div",{className:"bg-gray-900 bg-opacity-10 absolute w-full h-full z-[11]",children:(0,p.jsx)(l.E.div,{className:"bg-white md:w-96 w-5/6 h-[25em] mx-auto mt-24 md:mt-36 border-2 border-black relative flex flex-col z-20 overflow-hidden",initial:{y:"100%"},animate:{y:"0%"},transition:{type:"spring",stiffness:110,damping:12},children:j.map((function(e,t){return(0,p.jsx)(v.q.div,{className:" w-full h-full",style:(0,g.Z)({},e),children:y[t]},t)}))})})}function O(e){(0,n.Z)(e);var t=(0,i.Z)(),s=t.calendars,c=t.navigate,m=t.confirm,h=t.isFetching,g=t.message,v=(0,o.UO)().calendarName,b=(0,r.useState)(!1),y=(0,a.Z)(b,2),w=y[0],j=y[1],M=(0,r.useMemo)((function(){for(var e=0;e<s.length;e++){var t=s[e],a=t.name.replaceAll(" ","_").normalize("NFD").replace(/[\u0300-\u036f]/g,"");if(v===a)return t}return!1}),[h,s]),S=(0,r.useState)(M),k=(0,a.Z)(S,2),D=k[0],Z=k[1];(0,r.useEffect)((function(){Z(M)}),[s]),(0,r.useEffect)((function(){setTimeout((function(){M||h||c("/brak_strony"),Z(M)}),1e3)}),[h]);var N=(0,r.useState)(0),I=(0,a.Z)(N,2),T=I[0],z=I[1],R=d(),F=R.slotsArray,G=R.removeAllSlots;if((0,r.useEffect)((function(){return function(){0!==F.length&&G()}}),[]),!D)return(0,p.jsx)(A.Z,{});var U=D.name,O=D.date.length;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(l.E.div,{className:" w-screen h-screen flex items-center flex-col bg-zinc-100",variants:{hidden:{opacity:0,x:-200,y:0},enter:{opacity:1,x:0,y:0},exit:{opacity:0}},initial:"hidden",animate:"enter",transition:{type:"linear"},exit:"exit",children:[(0,p.jsx)(f.Z,{message:m.message,submit:m.submit,handleSubmit:m.handleSubmit}),(0,p.jsx)(E.Z,{message:g,theme:"bg-purple-200"}),(0,p.jsx)(u.Z,{calendarName:U,theme:"bg-slate-400"}),(0,p.jsx)(W,{slotMessage:w,setSlotMessage:j,calendar:D}),(0,p.jsxs)("div",{className:"mt-4 w-[95%] h-[90%] md:mt-6 md:max-w-[90%] md:[90% md:mx-auto rounded-sm text-xs  border-2 border-black overflow-hidden",children:[(0,p.jsx)(x,{displayedMonth:T,setDisplayedMonth:z,monthsCountForMonthCarousel:O}),(0,p.jsx)(C,{calendar:D,monthsCountForMonthCarousel:O,displayedMonth:T,slotMessage:w,setSlotMessage:j})]})]})})}}}]);
//# sourceMappingURL=997.eac606de.chunk.js.map